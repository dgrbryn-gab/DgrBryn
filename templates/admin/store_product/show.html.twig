{% extends 'admin/admin_base.html.twig' %}

{% block title %}{{ storeProduct.name }} | CORK Admin{% endblock %}

{% block admin_content %}
<div class="min-h-screen bg-gradient-to-br from-amber-50 via-rose-50 to-amber-100 py-20 px-6">
    <div class="max-w-5xl mx-auto bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl overflow-hidden border border-amber-100 relative">

        <!-- Top Gradient Bar -->
        <div class="absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-[#7F1734] via-[#9E2B47] to-[#EFCFB4] rounded-t-3xl"></div>

        <div class="grid grid-cols-1 md:grid-cols-2">
            <!-- Product Image -->
            <div class="flex items-center justify-center bg-rose-100 relative overflow-hidden">
                {% if storeProduct.image %}
                    <img src="{{ asset('assets/images/wine_images/' ~ storeProduct.image) }}" 
                         alt="{{ storeProduct.name }}" 
                         class="w-full h-full object-cover md:rounded-l-3xl transition-transform duration-700 hover:scale-105">
                {% else %}
                    <img src="{{ asset('images/no-image.png') }}" 
                         alt="No image" 
                         class="w-full h-full object-cover md:rounded-l-3xl opacity-70">
                {% endif %}
            </div>

            <!-- Product Info -->
            <div class="p-10 flex flex-col justify-between rounded-r-3xl bg-[#7F1734] text-[#f1e3cc]">
                <div>
                    <h1 class="text-4xl font-extrabold mb-6 tracking-wide text-[#f9d3b4]">
                        {{ storeProduct.name }}
                    </h1>
                    <p class="mb-8 leading-relaxed text-base text-[#f1e3cc]">
                        {{ storeProduct.description|default('No description available.') }}
                    </p>

                    <div class="space-y-4 text-sm">
                        <p>
                            <span class="font-semibold text-[#f9d3b4]">Product ID:</span>
                            <span class="text-[#f1e3cc]">{{ storeProduct.id }}</span>
                        </p>

                        <p>
                            <span class="font-semibold text-[#f9d3b4]">Created:</span>
                            <span class="text-[#f1e3cc]">
                                {{ storeProduct.createdAt ? storeProduct.createdAt|date('F j, Y, g:i a') : '' }}
                            </span>
                        </p>

                        <p>
                            <span class="font-semibold text-[#f9d3b4]">Available:</span>
                            <span class="{{ storeProduct.isAvailable ? 'text-green-300' : 'text-red-400' }}">
                                {{ storeProduct.isAvailable ? 'Yes' : 'No' }}
                            </span>
                        </p>

                        <p>
                            <span class="font-semibold text-[#f9d3b4]">In Stock:</span>
                            <span class="text-[#f1e3cc]">
                                {{ storeProduct.wineInventories|length > 0 ? storeProduct.wineInventories.first.quantity : 0 }}
                            </span>
                        </p>
                    </div>
                </div>

                <!-- Buttons Section -->
               <div class="mt-10">
                    <p class="text-3xl font-bold mb-6 text-center text-[#f9d3b4]">‚Ç¨{{ storeProduct.price }}</p>

                    <div class="flex justify-center items-center gap-5 flex-nowrap">
                        <!-- Back Button -->
                        <a href="{{ path('app_store_product_index') }}" 
                        class="w-40 h-12 flex items-center justify-center font-semibold rounded-xl shadow-md border border-[#f4e7ce] transition-all duration-300 transform hover:scale-105 bg-[#f9d3b4] text-[#7F1734]">
                            ‚Üê Back
                        </a>

                        <!-- Edit Button -->
                        <a href="{{ path('app_store_product_edit', {'id': storeProduct.id}) }}" 
                        class="w-40 h-12 flex items-center justify-center font-semibold rounded-xl shadow-md border border-[#f9d3b4] transition-all duration-300 transform hover:scale-105 bg-[#a83244] text-[#f4e7ce]">
                            ‚úé Edit
                        </a>

                        <!-- Delete Button -->
                        <form method="post" action="{{ path('app_store_product_delete', {'id': storeProduct.id}) }}" 
                            onsubmit="return confirm('Are you sure you want to delete this product?');"
                            class="w-40 h-12">
                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ storeProduct.id) }}">
                            <button type="submit"
                                    class="w-full h-full flex items-center justify-center font-semibold rounded-xl shadow-md border border-[#f9d3b4] transition-all duration-300 transform hover:scale-105 bg-[#7F1734] text-[#f4e7ce]">
                                üóë Delete
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
