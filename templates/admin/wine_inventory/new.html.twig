{% extends 'admin/admin_base.html.twig' %}

{% block title %}Add New Wine Inventory | Wine Store{% endblock %}

{% block admin_content %}
<section class="bg-white border-b border-gray-200 shadow-sm">
    <div class="max-w-7xl mx-auto px-6 py-8">
        <h2 class="text-4xl font-bold text-[#5E0B15]">üì¶ Add New Wine Inventory</h2>
        <p class="text-gray-700 mt-1">Record a new wine stock entry ‚Äî manage quantities and acquisition details.</p>
    </div>
</section>

<!-- Form Section -->
<section class="max-w-4xl mx-auto px-6 py-12">
    <div class="bg-white border border-gray-200 rounded-2xl shadow-sm p-8">
        <h3 class="text-2xl font-semibold text-[#7F1734] mb-8">Inventory Details</h3>

        <form method="post" class="space-y-6">
            <!-- Product -->
            <div>
                <label for="wine_inventory_product" class="block text-sm font-semibold text-gray-700 mb-2">
                    Select Product
                </label>
                {{ form_widget(form.product, {
                    'attr': {
                        'class': 'w-full rounded-lg border-gray-300 focus:border-[#7F1734] focus:ring-[#7F1734] shadow-sm'
                    }
                }) }}
                {{ form_errors(form.product) }}
            </div>

            <!-- Quantity -->
            <div>
                <label for="wine_inventory_quantity" class="block text-sm font-semibold text-gray-700 mb-2">
                    Quantity
                </label>
                {{ form_widget(form.quantity, {
                    'attr': {
                        'class': 'w-full rounded-lg border-gray-300 focus:border-[#7F1734] focus:ring-[#7F1734] shadow-sm'
                    }
                }) }}
                {{ form_errors(form.quantity) }}
            </div>

            <!-- Acquisition Date -->
            <div>
                <label for="wine_inventory_acquiredDate" class="block text-sm font-semibold text-gray-700 mb-2">
                    Acquisition Date
                </label>
                {{ form_widget(form.acquiredDate, {
                    'attr': {
                        'class': 'w-full rounded-lg border-gray-300 focus:border-[#7F1734] focus:ring-[#7F1734] shadow-sm'
                    }
                }) }}
                {{ form_errors(form.acquiredDate) }}
            </div>

            <!-- Submit Button -->
            <div class="pt-6 flex justify-center">
                <button type="submit"
                        class="px-8 py-3 text-base font-semibold rounded-xl shadow transition-all duration-300 border bg-[#7F1734] text-[#F8EAD8] border-[#EFCFB4] hover:bg-[#9E2B47]">
                    üíæ Save Inventory
                </button>
            </div>
        </form>

        <div class="mt-6 text-center">
            <a href="{{ path('app_wine_inventory_index') }}"
               class="inline-block text-[#7F1734] font-medium hover:text-[#9E2B47] transition">
                ‚Üê Back to Inventory List
            </a>
        </div>
    </div>
</section>

<!-- Prevent Background Scroll -->
<script>
    document.documentElement.style.overflow = 'hidden';
    const unlock = () => {
        document.documentElement.style.overflow = '';
        document.body.style.overflow = '';
    };
    window.addEventListener('pagehide', unlock);
    window.addEventListener('beforeunload', unlock);
    window.addEventListener('unload', unlock);
    document.querySelectorAll('a').forEach(a => a.addEventListener('click', () => setTimeout(unlock, 50)));
</script>
{% endblock %}