{% extends 'staff/staff_base.html.twig' %}

{% block title %}My Profile - Staff Dashboard - CORK{% endblock %}

{% block page_title %}My Profile{% endblock %}

{% block content %}
<div class="profile-backdrop">
    <div class="profile-modal">
    <!-- Profile Card -->
    <div class="profile-card">
        <div class="profile-card-header">
            <div class="profile-avatar">
                {{ user.email|slice(0, 1)|upper }}
            </div>
            <h2 class="profile-name">
                {{ user.email }}
            </h2>
            <p class="profile-meta">@{{ user.username }}</p>
            <p class="profile-meta-secondary">Staff Member</p>
        </div>

        <!-- Profile Information -->
        <div class="profile-info-section">
            <h3 class="profile-info-title">Profile Information</h3>
            
            <div class="profile-form-grid">
                <div class="profile-form-row">
                    <!-- Username -->
                    <div>
                        <label class="form-field-label">
                            Username
                        </label>
                        <div class="form-field-display">
                            @{{ user.username }}
                        </div>
                    </div>

                    <!-- Email -->
                    <div>
                        <label class="form-field-label">
                            Email Address
                        </label>
                        <div class="form-field-display">
                            {{ user.email }}
                        </div>
                    </div>
                </div>

                <div class="profile-form-row">
                    <div>
                        <label class="form-field-label">
                            Role
                        </label>
                        <div class="form-field-display">
                            {% if 'ROLE_ADMIN' in user.roles %}
                                Administrator
                            {% elseif 'ROLE_STAFF' in user.roles %}
                                Staff Member
                            {% else %}
                                User
                            {% endif %}
                        </div>
                    </div>

                    <!-- Account Status -->
                    <div>
                        <label class="form-field-label">
                            Account Status
                        </label>
                        <div class="form-field-display">
                            {% if user.isActive %}
                                <span class="status-active">✓ Active</span>
                            {% else %}
                                <span class="status-inactive">⚠ Inactive</span>
                            {% endif %}
                        </div>
                    </div>
                </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="profile-actions">
            <a href="{{ path('staff_profile_edit') }}" class="btn-burgundy">
                ✏️ Edit Profile
            </a>
            <a href="{{ path('staff_dashboard') }}" class="btn-secondary">
                ← Back to Dashboard
            </a>
        </div>
    </div>
    </div>
</div>
{% endblock %}

