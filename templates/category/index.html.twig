{% extends 'base.html.twig' %}

{% block title %}Wine Categories{% endblock %}

{% block body %}
<div class="min-h-screen bg-gradient-to-b from-yellow-50 to-amber-50 py-12 px-6">
    <div class="max-w-5xl mx-auto">
        <div class="flex justify-between items-center mb-8">
            <h1 class="text-4xl font-extrabold text-yellow-900 tracking-tight">Wine Categories</h1>
            <a href="{{ path('app_category_new') }}"
               class="px-5 py-2 rounded-xl shadow font-semibold transition-all duration-300 border"
               style="background-color: #7F1734; color: #F8EAD8; border-color: #EFCFB4;"
               onmouseover="this.style.backgroundColor='#9E2B47'"
               onmouseout="this.style.backgroundColor='#7F1734'">
               + Add New Category
            </a>
        </div>

        {% if categories|length > 0 %}
            <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
                {% for category in categories %}
                    <div class="bg-white border border-yellow-100 rounded-2xl shadow p-6 transition hover:shadow-lg">
                        <h2 class="text-xl font-bold mb-2 text-yellow-900">{{ category.name }}</h2>
                        <p class="text-sm text-gray-600 mb-4">{{ category.description }}</p>
                        <p class="text-xs text-gray-500 mb-4">Created: {{ category.createdAt|date('M j, Y') }}</p>
                        <div class="flex justify-between">
                            <a href="{{ path('app_category_edit', {'id': category.id}) }}"
                               class="text-sm font-semibold px-3 py-1 rounded-lg border transition"
                               style="background-color: #EFCFB4; color: #7F1734; border-color: #F8EAD8;"
                               onmouseover="this.style.backgroundColor='#E3B78E'"
                               onmouseout="this.style.backgroundColor='#EFCFB4'">
                               Edit
                            </a>
                            <form method="post" action="{{ path('app_category_delete', {'id': category.id}) }}" onsubmit="return confirm('Are you sure you want to delete this category?');">
                                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ category.id) }}">
                                <button class="text-sm font-semibold px-3 py-1 rounded-lg border transition"
                                        style="background-color: #B6465F; color: #F8EAD8; border-color: #EFCFB4;"
                                        onmouseover="this.style.backgroundColor='#9E2B47'"
                                        onmouseout="this.style.backgroundColor='#B6465F'">
                                    Delete
                                </button>
                            </form>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="text-center py-16">
                <p class="text-gray-600 text-lg">üçá No categories yet. Create one to start organizing your wines!</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
