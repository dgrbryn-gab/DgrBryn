<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>‚ö´Ô∏è</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">

        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
            <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
            <link rel="stylesheet" href="https://cdn.datatables.net/2.3.4/css/dataTables.dataTables.css">
        {% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
    </head>

    <!-- üß± Make page layout full height -->
    <body class="flex flex-col min-h-screen m-0 font-sans text-gray-800" style="background-color: #f7f1e9;">
        
        <!-- Header -->
        <header class="bg-gray-900 py-4 shadow-md sticky top-0 z-50">
            <nav class="max-w-6xl mx-auto px-4 flex items-center justify-between">
                <a href="{{ path('app_home') }}">
                    <img src="{{ asset('assets/images/cork_logo.png') }}" alt="CORK Logo" class="h-10 w-auto">
                </a>

                <ul class="flex justify-center space-x-6 md:space-x-8 list-none m-0 p-0">
                    <li><a href="{{ path('app_home') }}" class="text-white text-lg font-medium py-2 px-4 rounded hover:text-amber-500 hover:bg-white/10 transition-colors duration-300">Home</a></li>
                    <li><a href="{{ path('app_wine') }}" class="text-white text-lg font-medium py-2 px-4 rounded hover:text-amber-500 hover:bg-white/10 transition-colors duration-300">Wines</a></li>
                    <li><a href="{{ path('app_about') }}" class="text-white text-lg font-medium py-2 px-4 rounded hover:text-amber-500 hover:bg-white/10 transition-colors duration-300">About</a></li>
                    <li><a href="{{ path('app_contact') }}" class="text-white text-lg font-medium py-2 px-4 rounded hover:text-amber-500 hover:bg-white/10 transition-colors duration-300">Contact</a></li>

                    <!-- Cart Icon -->
                    <li class="relative">
                        <a href="{{ path('app_cart') }}"
                           class="text-white text-lg font-medium py-2 px-4 rounded hover:text-amber-500 hover:bg-white/10 transition-colors duration-300 relative">
                            <i class="fas fa-shopping-cart mr-2"></i>Cart
                            {% set cart = app.session.get('cart') %}
                            {% if cart is not empty %}
                                <span class="absolute -top-1 -right-1 bg-amber-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full">
                                    {{ cart|length }}
                                </span>
                            {% endif %}
                        </a>
                    </li>
                </ul>
            </nav>
        </header>

        <!-- Main content grows to fill space -->
        <main class="flex-grow">
            {% block body %}{% endblock %}
        </main>

        <!-- Footer (sticks to bottom even with no content) -->
        <footer class="bg-gray-900 text-white py-6 mt-auto">
            <div class="max-w-6xl mx-auto px-4">
                <div class="text-center text-sm text-gray-400">
                    &copy; {{ "now"|date("Y") }} CORK. All rights reserved.
                </div>
            </div>
        </footer>
    </body>
</html>
